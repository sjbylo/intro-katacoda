In the previous step we created an S2I Builder Image. Now we want to use it to create a new image containing our simplified application. 

The "source code" is made up of files under the src/ directory.

The src/ directory contains the 'code' which the S2I Builder Image can use to create a new container with the application inside. 


![S2I Process](../../assets/introduction/simple-s2i-builder/s2i-process.png)

The "cat runtime" will output the contents of any files inside a "src/" directory.  That's all!! 

## Try this out

To try this out use the existing src/ directory containing the 'source code' files, hellofile and worldfile.  

Have a look at the files: ``find src``{{execute}} 

The output of this command should show:

```
src
src/hellofile
src/worldfile
```

As a developer, you might want to "test" your application "locally" before you build a fresh container!  To do this, simply run the "cat runtime" as follows:

``cat src/*``{{execute}}

The output of this command should show:

```
Hello
World
```

To build your very simple application, use one of the following ways.

## 1st way

Build using a build configuration that uploads the files from the current working directory and then launch the resulting image 

Create a build configuration called "1st-app" using the builder image (s2i-simple-builder) we created in the previous step. 

``oc new-build s2i-simple-builder --binary=true --name 1st-app``{{execute}}

Kick off the S2I Build process by uploading the source code from the src/ directory.  A new image is creatd containing our applicaiton.

``oc start-build 1st-app --from-dir=src --follow --wait``{{execute}}

Create an application from the newly created 1st-app image.

``oc new-app 1st-app``{{execute}}

Wait for the pod to start.

``oc get pod``{{execute}}

Show the "simple application" is working by displaying its output. 

oc logs <1st-app-pod>

The contents of the hellofile and the worldfile should be displayed. 

## 2nd way

Build and launch the application with one command, using "oc new-app" and fetching the code from a git repository. 

oc new-app s2i-simple-builder~https://github.com/sjbylo/intro-katacoda.git --context-dir=introduction/simple-s2i-builder/assets/src --name 2nd-app

If you are quick enough view the build log:

``oc logs bc/2nd-app``{{execute}}

The new-app command above does everything in one go.  It creates the necessary configurations (buuild and deployment) in OpenShift, triggers the build which fetches the source code and then, after the new image has been pushed into the registry, the image is deployed.

